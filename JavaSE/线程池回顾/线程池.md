## 线程池

#### `1.JUC 包下 Excutors（创建线程池的方式）`

```
1.newFixedThreadPool（定长线程池）可重用固定线程数

2. newWorkStealingPool （工作窃取 ）

3.newSingleThreadExecutor (单个线程的线程池)

4. newScheduledThreadPool  （创建一个线程池,在给定延迟后运行命令或定期执行）

5.newSingleThreadScheduledExecutor（创业一个单线程，在给定延迟后运行命令或定期执行）

6.newCacheThreadPool(可缓存重复利用的线程池)


```

2.核心参数

``` 
1.corePoolSize 核心线程数
2.maximumPoolSize 创建线程最大个数
3.keepAliveTime 空闲线程存活时间
4.TimeUnit
- 选项
TimeUnit.DAYS //天
TimeUnit.HOURS //小时
TimeUnit.MINUTES //分钟
TimeUnit.SECONDS //秒
TimeUnit.MILLISECONDS //毫秒
TimeUnit.NANOSECONDS //毫微秒
TimeUnit.MICROSECONDS //微秒
- 时间
5.workQueue 工作队列(ArrayBlockingQueue|DelayQueue|LinkedBlockingQueue|PriorityBolckingQueue|SynchronousQueue)
6.threadFactory 创建线程的工厂(指定线程名称)
7.handler 策略
```

#### 2.线程池执行流程

1.线程池想要执行任务,首先保证的是核心线程数有空闲。

2.如果核心线程池没有空闲,会把任务放到阻塞队列中排队。

3.如果阻塞队列已满,回去查看工作线程数是否为`最大线程数`，创建非核心线程数。

4.如果已达最大线程数,执行拒绝策略。

![image-20220603015238813](C:\Users\lzh\AppData\Roaming\Typora\typora-user-images\image-20220603015238813.png)