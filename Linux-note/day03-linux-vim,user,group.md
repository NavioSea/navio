VI 和VIM 

1.常用的三种模式

* 正常模式

  ```
  - 以vim打开一个档案就直接进入一般模式(这是默认的模式)。在这个模式中，你可以使用上下左右移动光标，可以增删，复制剪贴粘贴文件数据
  ```

* 插入模式

  ```
  - 按下i,I,o,O,a,A,r,R等任何一个字母之后才会进入编辑模式，一般来说按i即可
  ```

* 命令行模式

  ```
  - 在这个模式中，可以提供相关指令，完成读取、存盘、替换、离开vim、显示行号等的动作则是唉此模式中达成的 
  :w ---- 保存，不退出
  :w! ---- 强制保存，不退出
  :wq ---- 保存，退出（或者是:x）
  :wq! ---- 强制保存，退出
  :q ---- 不保存，退出
  :q! ---- 不保存，强制退出
  :e! ---- 放弃所有修改，从上次保存文件开始再编辑命令历史
  快捷键使用:
1.[一般模式]拷贝当前行 yy 拷贝当前向下5行 5yy ,并粘贴（输入p）
  2.[一般模式]删除当前行dd ,删除当前5行 5dd
  3.在文件中查找某个单词[命令行下/关键词 ， 回车 查找, 输入n就是查找下一个]
  4.设置文件的行号 [命令行下： set nu /set nonu ]
  5.[一般模式]编辑/etc/profile  使用快捷键到该文档的最末行[G]和最首行[gg]
  6.[一般模式]撤销动作 u
  7.[一般模式]编辑快速定位 在一般模式下，将光标移动到行号,或者输入行号n
  8.(shift+g):跳转到最后一行
  ```
  
  ###### Vim快捷键图
  
  ![image-20220424235758830](C:\Users\lzh\AppData\Roaming\Typora\typora-user-images\image-20220424235758830.png)



重启 ：reboot

关机 ： halt

内存数据同步磁盘 ：sync

***

#### 添加用户

```
1.创建用户
# useradd 【用户】            //默认创建在/home 目录下
# useradd 【用户】 -d  /dir   //创建用户指定目录
2.更改用户的密码
# password 【用户】 //修改账号密码
# pwd   //显示当前用户所在的目录
3.删除用户
# userdel 【用户】   //删除用户，保留home
# userdel 【用户】 -r  //删除用户，同时删除home
4.修改账号
# usermod 【用户】  //修改帐号
# passwd 【用户】  //更改或创建用户的密码
# passwd -S 【用户】  //显示用户账号密码信息
# passwd -d 【用户】   //清除用户密码
```

#### 查询用户信息

```
1.根据账号查询
# id root
2.查看当前用户
# who am i
```

#### 用户组（根据权限划分）

```
1.新增用户组
# id 【用户组】  //根据ID查看组
# groupadd 【用户组】 //新增组
# groupdel 【用户组】 //删除组
# useradd -g 【用户组】 【用户名】 //新增用户时把他加入组
# usermod -g 【用户组】 【用户名】 //修改用户的组
# usermod -d 【目录名】 【用户名】 //改变该用户登录的初始目录（用户需要有该目录使用权限）
```

#### 用户和组相关文件

* /etc/passwd 文件

  ```
  - 用户的配置文件,记录用户的各种信息
  每行含义:
  用户名:口令(x):用户标识号(uid):组标识号(gid):注释性描述:主目录:登录shell(bash-编译二进制)
  ```

* /etc/shadow 文件

  ```
  - 口令的配置文件
  每行含义:
  登录名:加密口令:最后一次修改时间:最小时间间隔:最大时间间隔:警告时间:不活动时间:失效时间:标志
  ```

* /etc/group 文件

  ```
  - 组(group)的配置文件,记录Linux包含的组的信息
  每行含义:
  组名:口令:组标识号:组内用户列表
  ```

  